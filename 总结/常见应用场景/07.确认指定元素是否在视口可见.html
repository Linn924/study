<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    html,body{
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        overflow-x: hidden;
    }
</style>
<body>
    <div class="box" style="width: 100vw;height: 100vh;background-color: cornflowerblue;margin-top: 101vh;"></div>
    <script>
        /*
            getBoundingClientRect用于获取某个元素相对于视窗的位置集合。集合中有top, right, bottom, left等属性。
            top 元素顶部到窗口顶部的距离。right 元素右边框到窗口左边框的距离。bottom 元素底边框到窗口顶部的距离。left 元素左边框到窗口左边框的距离。
            innerHeight 返回窗口的文档显示区（无限延伸）的高度。innerWidth 返回窗口的文档显示区（无限延伸）的宽度。
        */
        const elementIsVisibleInViewport = (dom,partiallyVisible = false) => {
            const {top,left,bottom,right} = dom.getBoundingClientRect()
            const {innerHeight,innerWidth} = window
            return partiallyVisible ? ((top > 0 && top < innerHeight) || (bottom > 0 && bottom < innerHeight)) && ((left > 0 && left < innerWidth) || (right > 0 && right < innerWidth)) : top >= 0 && left >= 0 && bottom <= innerHeight && right <= innerWidth
        }

        elementIsVisibleInViewport(document.querySelector('.box')) // (不完全可见) 
        elementIsVisibleInViewport(document.querySelector('.box'), true) // (部分可见)
    </script>
</body>
</html>